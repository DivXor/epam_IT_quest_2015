<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:th="http://www.thymeleaf.org">
<head>
    <title th:text="${title}">Quiz</title>
    <meta name="viewport" content="width=device-width, initial-scale=1"/>

    <link rel="stylesheet" type="text/css" href="/css/bootstrap.min.css"/>
    <link rel="stylesheet" href="/css/bootstrap-dialog.min.css"/>
    <link rel="stylesheet" type="text/css" href="/css/style.css"/>
</head>

<body>

<div th:replace="fragments/header"></div>

<div class="wrapper">
    <div class="container">
        <div class="row content">
            <div class="col-lg-12">
                <div class="page-header">
                    <h1>Ассоциации! </h1>

                </div>
                <p>В этом задании вам необходимо найти граматические или синтаксические ошибки в
                    предложениях и указать их</p>
                <br/>

                <div id="error-message" class="alert alert-warning hide" role="alert">
                    <button id="close-button" type="button" class="close"><span
                            aria-hidden="true">&times;</span></button>
                    <h4><strong>Упс!</strong> Где-то Вы допустили ошибку.</h4>
                </div>

                <br/>
                <hr/>
            </div>
        </div>

        <div class="row" th:each="plate : ${pictureList}">
            <form th:if="${!plate.answerRight}" class="form-inline" th:action="${'/association/check/' + plate.id}"
                  method="post">
                <div class="images-container" th:switch="${plate.hintCounter}">
                    <div th:case="0">
                        <a href="#" class="thumbnail" data-toggle="modal" data-target="#lightbox">
                            <img th:src="${plate.img1}"/>
                        </a>
                        <a th:href="'/association/hint/'+ ${plate.id} +''"><img th:src="@{/images/question_mark.jpg}"/></a>
                        <a th:href="'/association/hint/'+ ${plate.id} +''"><img th:src="@{/images/question_mark.jpg}"/></a>
                        <a th:href="'/association/hint/'+ ${plate.id} +''"><img th:src="@{/images/question_mark.jpg}"/></a>
                    </div>

                    <div th:case="1">
                        <a href="#" class="thumbnail" data-toggle="modal" data-target="#lightbox">
                            <img th:src="${plate.img1}"/>
                        </a>
                        <a href="#" class="thumbnail" data-toggle="modal" data-target="#lightbox">
                            <img th:src="${plate.img2}"/>
                        </a>
                        <a th:href="'/association/hint/'+ ${plate.id} +''"><img th:src="@{/images/question_mark.jpg}"/></a>
                        <a th:href="'/association/hint/'+ ${plate.id} +''"><img th:src="@{/images/question_mark.jpg}"/></a>
                    </div>

                    <div th:case="2">
                        <a href="#" class="thumbnail" data-toggle="modal" data-target="#lightbox">
                            <img th:src="${plate.img1}"/>
                        </a>
                        <a href="#" class="thumbnail" data-toggle="modal" data-target="#lightbox">
                            <img th:src="${plate.img2}"/>
                        </a>
                        <a href="#" class="thumbnail" data-toggle="modal" data-target="#lightbox">
                            <img th:src="${plate.img3}"/>
                        </a>
                        <a th:href="'/association/hint/'+ ${plate.id} +''"><img th:src="@{/images/question_mark.jpg}"/></a>
                    </div>

                    <div th:case="3">
                        <a href="#" class="thumbnail" data-toggle="modal" data-target="#lightbox">
                            <img th:src="${plate.img1}"/>
                        </a>
                        <a href="#" class="thumbnail" data-toggle="modal" data-target="#lightbox">
                            <img th:src="${plate.img2}"/>
                        </a>
                        <a href="#" class="thumbnail" data-toggle="modal" data-target="#lightbox">
                            <img th:src="${plate.img3}"/>
                        </a>
                        <a href="#" class="thumbnail" data-toggle="modal" data-target="#lightbox">
                            <img th:src="${plate.img4}"/>
                        </a>

                        <div th:if="${plate.answerRight}">
                            <img th:src="@{images/tick_sign.svg}"/>
                        </div>
                    </div>

                </div>
                <br/>

                <!--<div th:if="${plate.hintCounter &lt; 3 and !plate.answerRight}" class="form-group">-->
                    <!--<input th:onclick="'window.location = \'/association/hint/'+ ${plate.id} + '\''"-->
                           <!--class="btn btn-primary"-->
                           <!--type="button" name="hint" value="Взять подсказку!"/>-->
                <!--</div>-->

                <div th:if="${!plate.answerRight}" class="form-group">
                    <input class="form-control" type="text" name="userAnswer"
                           th:placeholder="${plate.hiddenWord.length()} + ' letters'"/>

                    <input type="submit" class="btn btn-success" value="Проверить"/>
                </div>
            </form>

            <div class="answered" th:if="${plate.answerRight}">
                <img src="/images/tick_sign.svg"/>
            </div>

            <hr/>
        </div>

        <div class="row">
            <div class="col-md-2 pull-right">
                <form th:action="@{/association/finish}" role="form" method="post" class="form-inline">
                    <button type="submit" class="btn btn-warning">Завершить задание</button>
                </form>
            </div>
        </div>

        <div id="lightbox" class="modal fade" tabindex="-1" role="dialog"
             aria-labelledby="myLargeModalLabel"
             aria-hidden="true">
            <div class="modal-dialog">
                <button type="button" class="close hidden" data-dismiss="modal" aria-hidden="true">×</button>
                <div class="modal-content">
                    <div class="modal-body">
                        <img src="" alt=""/>
                    </div>
                </div>
            </div>
        </div>

    </div>
    <div class="push-down"></div>

    <div th:replace="fragments/footer"></div>
</div>

<!-- Bootstrap core JavaScript
================================================== -->
<script type="text/javascript" th:src="@{/js/jquery-2.1.4.js}"></script>
<script type="text/javascript" th:src="@{/js/bootstrap.min.js}"></script>

<!-- Lightbox library JavaScript
================================================== -->
<script type="text/javascript" th:src="@{/js/lightbox.js}"></script>

<!-- CheckAnswers js script
================================================== -->
<script type="text/javascript" th:src="@{/js/checkAnswers.js}"></script>

<script type="text/javascript" th:src="@{/js/user.js}"></script>

</body>
</html>
